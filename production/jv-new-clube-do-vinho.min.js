/* Orion JS | DESKTOP-EB0OVV3 - 03/06/2022 15:00:59 GMT */
"use strict";!function(){try{var a={init:function(){a.applyQuantiyAdegas(),a.addProductCartAdegas(),a.applyDiscountInBoxes()},windowOnload:function(){},applyQuantiyAdegas:function(){$(document).on("click",".selectbox-qtt-wrapper span",function(t){t.preventDefault();var t=$(this).parent().prev(),n=t.val(),n=parseInt(n);$(this).is(".shelf-qtt-more")?(n=parseInt(n)+parseInt(1),t.val(n)):$(this).is(".shelf-qtt-minus")&&1!=n&&(n=parseInt(n)-parseInt(1),t.val(n))})},addProductCartAdegas:function(){$(document).on("click",".jv-storefront-buybutton.cat-adega",function(t){t.preventDefault();var n,t=$(this),e=t.parent().prev().find("option:selected").val();"garrafa"==e?(n={id:t.prev().attr("id"),quantity:t.parent().prev().find("input").val().toString(),seller:"1"},a.sendProductToOrderForm(n)):"caixa"==e&&(n=t.prev().attr("id"),e=t.parent().prev().find("input").val(),t={id:n,quantity:(e*=6).toString(),seller:"1"},a.sendProductToOrderForm(t))})},sendProductToOrderForm:function(n){vtexjs.checkout.getOrderForm().done(function(t){vtexjs.checkout.addToCart([n],null).done(function(t){miniCartFunctions.update(t),$(".mini-cart-wrapper").addClass("active"),$(".mini-cart-close-overlay").fadeIn(400,"linear")})})},applyDiscountInBoxes:function(){var e=/\D/g;$("li[layout]").each(function(){var t,n;$(this).is(".jv-shelf-price-on")||((t=$(this)).addClass("jv-shelf-price-on"),n=(n=(t=t.find(".price-box-value")).text()).replace(e,""),n-=valueDiscount=.05*n,t.text("R$ ".concat(orionFormatPrice(n/100,2,",","."))))})}};$(document).ready(a.init);$(window).load(function(){a.windowOnload()}),$(document).ajaxStop(a.ajaxStop)}catch(a){console.log("Erro na inst√¢ncia do [ClubeDoVinho]: ",a)}}();