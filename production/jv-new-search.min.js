(function () {

    try {

        let Search = {
            init: () => {
                Search.applyCollections();
                Search.applyShowContentBtn();
                Search.applyFilters();
                Search.applyRemoveCatAzeite();
            },
            windowOnload: () => { },
            ajaxStop: () => { },
            collectionData: () => {
                return [
                    {
                        'name': 'Black%20Leopardo',
                        'pdfUrl': 'https://site-jv-br.s3.sa-east-1.amazonaws.com/pdf-colecoes/black-leopardo.pdf',
                        'pdfImageUrl': 'https://jackvartanian.vteximg.com.br/arquivos/banner_catalaogo_black-leopardo.jpg',
                        'videoUrl': 'ZLsR4uFrHa4',
                    },
                    {
                        'name': 'Leopardo',
                        'pdfUrl': 'https://site-jv-br.s3.sa-east-1.amazonaws.com/pdf-colecoes/leopardo.pdf',
                        'pdfImageUrl': 'https://jackvartanian.vteximg.com.br/arquivos/banner_catalogo_leopardo.jpg',
                        'videoUrl': 'psw_U0j7qi8',
                    },
                    {
                        'name': 'Rock%20Star',
                        'pdfUrl': 'https://site-jv-br.s3.sa-east-1.amazonaws.com/pdf-colecoes/rock-star.pdf',
                        'pdfImageUrl': 'https://jackvartanian.vteximg.com.br/arquivos/banner_catalogo_rock-star.jpg',
                        'videoUrl': 'vvOPbTmxwoc',
                    },
                    {
                        'name': 'Rock%20Chain',
                        'pdfUrl': 'https://site-jv-br.s3.sa-east-1.amazonaws.com/pdf-colecoes/rock-chain.pdf',
                        'pdfImageUrl': 'https://jackvartanian.vteximg.com.br/arquivos/banner_catalogo_rock-chain.png',
                        'videoUrl': 'lzIQkQWo02M',
                    },
                    {
                        'name': 'Chain',
                        'pdfUrl': 'https://site-jv-br.s3.sa-east-1.amazonaws.com/pdf-colecoes/chain.pdf',
                        'pdfImageUrl': 'https://jackvartanian.vteximg.com.br/arquivos/banner-catalogo-chain-338x150.jpg',
                        'videoUrl': 'qbqegU4Y5Gg',
                    },
                    {
                        'name': 'POP!',
                        'pdfUrl': 'https://site-jv-br.s3.sa-east-1.amazonaws.com/pdf-colecoes/pop.pdf',
                        'pdfImageUrl': 'https://jackvartanian.vteximg.com.br/arquivos/banner_catalogo_pop.jpg',
                        'videoUrl': 'oW7CmmVzOsg',
                    },
                    {
                        'name': 'Pop%20Chain',
                        'pdfUrl': 'https://site-jv-br.s3.sa-east-1.amazonaws.com/pdf-colecoes/pop-chain.pdf',
                        'pdfImageUrl': 'https://jackvartanian.vteximg.com.br/arquivos/banner_catalogo_pop-chain.jpg',
                    },
                    {
                        'name': 'LIFE@dot@STYLE',
                        'pdfUrl': 'https://site-jv-br.s3.sa-east-1.amazonaws.com/pdf-colecoes/lifestyle.pdf',
                        'pdfImageUrl': 'https://jackvartanian.vteximg.com.br/arquivos/banner_catalogo_lifestyle.jpg',
                        'videoUrl': 'X5XcFP_wLJc',
                    },
                    {
                        'name': 'Avant%20Garde',
                        'pdfUrl': 'https://site-jv-br.s3.sa-east-1.amazonaws.com/pdf-colecoes/avant-garde.pdf',
                        'pdfImageUrl': 'https://jackvartanian.vteximg.com.br/arquivos/banner_catalogo_avant-garde.jpg',
                    },
                    {
                        'name': 'White%20Chain',
                        'pdfUrl': 'https://site-jv-br.s3.sa-east-1.amazonaws.com/pdf-colecoes/white-chain.pdf',
                        'pdfImageUrl': 'https://jackvartanian.vteximg.com.br/arquivos/banner_catalogo_white-chain.jpg',
                        'videoUrl': 'MWSl3o64nEo',
                    },
                    {
                        'name': '15%20anos',
                        'pdfUrl': 'https://site-jv-br.s3.sa-east-1.amazonaws.com/pdf-colecoes/15anos_novo_08_2021.pdf',
                        'pdfImageUrl': 'https://jackvartanian.vteximg.com.br/arquivos/banner_catalogo_15-anos.jpg',
                    },
                    {
                        'name': 'First%20Diamond',
                        'videoUrl': 'sKEVbFXuOP4',
                    },
                    {
                        'name': 'Amore',
                        'videoUrl': 'U68s3JMpiJ0',
                    },
                    {
                        'name': 'Choker',
                        'pdfUrl': 'https://site-jv-br.s3.sa-east-1.amazonaws.com/pdf-colecoes/choker.pdf',
                        'pdfImageUrl': 'https://jackvartanian.vteximg.com.br/arquivos/banner_catalogo_choker.jpg',
                        'videoUrl': '4tA1V09EzuU',
                    },
                    {
                        'name': 'Rock%20@-@%20Hot',
                        'pdfUrl': 'https://site-jv-br.s3.sa-east-1.amazonaws.com/pdf-colecoes/rock-hot.pdf',
                        'pdfImageUrl': 'https://jackvartanian.vteximg.com.br/arquivos/banner_catalogo_rock-hot.jpg',
                        'videoUrl': 'X7INWrhu16Q',
                    },
                    {
                        'name': 'Riviera',
                        'pdfUrl': 'https://site-jv-br.s3.sa-east-1.amazonaws.com/pdf-colecoes/riviera.pdf',
                        'pdfImageUrl': 'https://jackvartanian.vteximg.com.br/arquivos/banner_catalogo_riviera.jpg',
                        'videoUrl': 'BtqqybGVpjw',
                    },
                    {
                        'name': 'Voyeur',
                        'pdfUrl': 'https://site-jv-br.s3.sa-east-1.amazonaws.com/pdf-colecoes/voyeur.pdf',
                        'pdfImageUrl': 'https://jackvartanian.vteximg.com.br/arquivos/banner_catalogo_voyeur.jpg',
                        'videoUrl': 'e1sku-BL_Yc',
                    },
                    {
                        'name': 'Love%20NY',
                        'pdfUrl': 'https://site-jv-br.s3.sa-east-1.amazonaws.com/pdf-colecoes/love-ny.pdf',
                        'pdfImageUrl': 'https://jackvartanian.vteximg.com.br/arquivos/banner_catalogo_love-ny.jpg',
                        'videoUrl': 'e1sku-BL_Yc',
                    },
                    {
                        'name': 'Orqu%C3%ADdea',
                        'pdfUrl': 'https://site-jv-br.s3.sa-east-1.amazonaws.com/pdf-colecoes/orquidea.pdf',
                        'pdfImageUrl': 'https://jackvartanian.vteximg.com.br/arquivos/banner_catalogo_orquidea.png',
                        'videoUrl': 'RbGs9H4ggC0',
                    },
                    {
                        'name': 'JV%20MAN%20II',
                        'pdfUrl': 'https://site-jv-br.s3.sa-east-1.amazonaws.com/pdf-colecoes/jv-man-ii.pdf',
                        'pdfImageUrl': 'https://jackvartanian.vteximg.com.br/arquivos/banner_catalogo_jv-man-ii.jpg',
                        'videoUrl': 'IdqBFkb-rwM',
                    },
                    {
                        'name': 'JV%20MAN',
                        'pdfUrl': 'https://site-jv-br.s3.sa-east-1.amazonaws.com/pdf-colecoes/jv-man.pdf',
                        'pdfImageUrl': 'https://jackvartanian.vteximg.com.br/arquivos/banner_catalogo_jv-man.jpg',
                        'videoUrl': 'PNVwOM8GQRA',
                    },
                    {
                        'name': 'Pequeno%20Pr%C3%ADncipe',
                        'videoUrl': 'GQbhKbxL12o',
                    },
                    {
                        'name': 'Blossom',
                        'pdfUrl': 'https://site-jv-br.s3.sa-east-1.amazonaws.com/pdf-colecoes/blossom.pdf',
                        'pdfImageUrl': 'https://jackvartanian.vteximg.com.br/arquivos/banner_catalogo_blossom.jpg',
                    },
                    {
                        'name': 'Deco',
                        'pdfUrl': 'https://site-jv-br.s3.sa-east-1.amazonaws.com/pdf-colecoes/deco.pdf',
                        'pdfImageUrl': 'https://jackvartanian.vteximg.com.br/arquivos/banner_catalogo_deco.jpg',
                    },
                    {
                        'name': 'Piscine',
                        'pdfUrl': 'https://site-jv-br.s3.sa-east-1.amazonaws.com/pdf-colecoes/piscine.pdf',
                        'pdfImageUrl': 'https://jackvartanian.vteximg.com.br/arquivos/banner_catalogo_piscine.jpg',
                    },
                    {
                        'name': 'Universo',
                        'pdfUrl': 'https://site-jv-br.s3.sa-east-1.amazonaws.com/pdf-colecoes/universo.pdf',
                        'pdfImageUrl': 'https://jackvartanian.vteximg.com.br/arquivos/banner_catalogo_universo.jpg',
                    },
                    {
                        'name': 'We%20Love%20Sapphire',
                        'pdfUrl': 'https://site-jv-br.s3.sa-east-1.amazonaws.com/pdf-colecoes/we-love-sapphire.pdf',
                        'pdfImageUrl': 'https://jackvartanian.vteximg.com.br/arquivos/banner_catalogo_we-love-sapphire.jpg',
                    },
                ]
            },
            applyCollections: () => {
                let collectionData = Search.collectionData();
                // const colNameFromUrl = document.URL.split('.com/joias/')[1].split('?')[0];
                if (!document.URL.match('.com/joias/')) {
                    console.info("stoping [applyCollections].\n");
                    return;
                }
                const colNameFromUrl = document.URL.split('.com/joias')[1].split('?')[0];
                const colData = collectionData.find(col => col.name.toLocaleLowerCase() === colNameFromUrl.toLocaleLowerCase());
                if (colData) {
                    const pdfUrl = colData.pdfUrl;
                    const pdfImageUrl = colData.pdfImageUrl;
                    const videoUrl = colData.videoUrl;

                    const videoDiv = videoUrl ?
                        `<div class='collection-video'> 
                            <iframe src="https://www.youtube.com/embed/${videoUrl}" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                            <p>Assista ao fashion film</p>
                        </div>` : '';

                    const pdfDiv = pdfUrl && pdfImageUrl ?
                        `<div class='collection-pdf'>
                            <a href="${pdfUrl}" target="_blank">
                                <img src="${pdfImageUrl}" alt="">
                                <p>Veja a campanha</p>
                            </a>
                        </div>` : '';

                    var ht = `
                    <div class='collection-info-banner'>
                        ${videoDiv}
                        ${pdfDiv}
                    </div>
                    `;

                    let el = document.createElement('div')
                    el.innerHTML = ht;
                    document.querySelector('div.main').insertAdjacentElement('beforebegin', el);

                }
            },
            applyShowContentBtn: () => {
                if (!$(".show-content-btn").length) {
                    console.info("stoping [applyShowContentBtn].\n");
                    return;
                }
                var contentHidden = document.getElementsByClassName("show-content-btn");
                var i;
                for (i = 0; i < contentHidden.length; i++) {
                    contentHidden[i].addEventListener("click", function () {
                        this.classList.toggle("active");
                        var content = this.nextElementSibling;
                        if (content.style.maxHeight) {
                            content.style.maxHeight = null;
                        } else {
                            content.style.maxHeight = content.scrollHeight + "px";
                        }
                    });
                }
            },
            applyFilters: () => {
                // if ($('.filtro-ativo')[0] != undefined) {
                if (!$('.filtro-ativo').length) {
                    console.info("stoping [applyFilters].\n");
                    return;
                }

                if (document.URL.includes('/joias/Amor')) {
                    if ($('ul .filtro-ativo')[0].innerText == 'Amor e Noivado') {
                        $('h1.headline-category').html('<div class="amoreBannerPrincipal"><div class="textoWelcome"><h1 class="headline-category">AMOR E NOIVADO</h1><h2 class="hello-citizen">Joias de noivado para fazer seus sonhos se realizarem, porque toda noiva merece uma joia deslumbrante.</h2></div></div>');
                    }
                }
        
                if (document.URL.includes('/aneis')) {
                    if ($('ul .filtro-ativo')[0].innerText == 'Solitário Amor e Noivado') {
                        $('h1.headline-category').html('<div class="amoreBannerPrincipal rings"><div class="textoWelcome"><h1 class="headline-category">ANÉIS SOLITÁRIOS</h1><h2 class="hello-citizen">Anéis de noivado para fazer seus sonhos se realizarem, porque toda noiva merece um anel solitário deslumbrante.</h2></div></div>');
                    }
                    else if ($('ul .filtro-ativo')[0].innerText == 'Aliança') {
                        $('h1.headline-category').html('<div class="amoreBannerPrincipal rings"><div class="textoWelcome"><h1 class="headline-category">ALIANÇAS</h1><h2 class="hello-citizen">Temos uma aliança de casamento para cada estilo de noivos! Escolha a sua aliança de ouro para marcar esse momento especial..</h2></div></div>');
                    }
                }
        
                if (document.URL.includes('/brincos')) {
                    if ($('ul .filtro-ativo')[0].innerText == 'Cometa') {
                        $('h1.headline-category').html('Brincos Cometa');
                    }
                    if ($('ul .filtro-ativo')[0].innerText == 'Solitário Amor e Noivado') {
                        $('h1.headline-category').html('<div class="amoreBannerPrincipal earrings"><div class="textoWelcome"><h1 class="headline-category">BRINCOS SOLITÁRIOS</h1><h2 class="hello-citizen">Brincos solitários lindos e minimalistas para impressionar mais ainda no seu casamento</h2></div></div>');
                    }
                    if ($('ul .filtro-ativo')[0].innerText.includes('Amor e noivado')) {
                        $('h1.headline-category').html('<div class="amoreBannerPrincipal earrings"><div class="textoWelcome"><h1 class="headline-category">BRINCOS DE AMOR E NOIVADO</h1><h2 class="hello-citizen">Brincos solitários lindos e minimalistas para impressionar mais ainda no seu casamento.</h2></div></div>');
        
                    }
                }
        
                if (document.URL.includes('/colares')) {
                    if ($('ul .filtro-ativo')[0].innerText == 'Solitário Amor e Noivado') {
                        $('h1.headline-category').html('<div class="amoreBannerPrincipal necklaces"><div class="textoWelcome"><h1 class="headline-category">COLARES SOLITÁRIOS</h1><h2 class="hello-citizen">Garanta seu colar para usar no grande dia! Solitários para fazer a noiva brilhar ainda mais!</h2></div></div>');
                    } else if ($('ul .filtro-ativo')[0].innerText.includes('Amor e noivado')) {
                        $('h1.headline-category').html('<div class="amoreBannerPrincipal necklaces"><div class="textoWelcome"><h1 class="headline-category">COLARES DE AMOR E NOIVADO</h1><h2 class="hello-citizen">Garanta seu colar para usar no grande dia! Solitários para fazer a noiva brilhar ainda mais!</h2></div></div>');
                    }
                }
        
                if (document.URL.includes('/pulseiras')) {
                    if ($('ul .filtro-ativo')[0].innerText == 'Solitário Amor e Noivado') {
                        $('h1.headline-category').html('Brincos Solitários');
                        $('h1.headline-category').after('<div class="short-long-category">Brincos solitários lindos e minimalistas para impressionar mais ainda no seu casamento</div>');
                    }
                    if ($('ul .filtro-ativo')[0].innerText.includes('Amor e noivado')) {
                        $('h1.headline-category').html('Pulseiras de Amor e Noivado');
                        $('h1.headline-category').after('<div class="short-long-category">Pulseiras lindas e minimalistas para impressionar mais ainda no seu casamento</div>');
                    }
                }
            },
            applyRemoveCatAzeite: () => {
                if (document.URL.includes('/adega')) {
                    let newItem = document.createElement('li');
                    newItem.innerHTML = '<a href="/adega/clube-do-vinho" style="display: inline-block; font-size: 12.5px; text-transform: uppercase; font-weight: 400; letter-spacing: 3px; color: #6f6f6f; line-height: 50px; list-style: none">Clube do Vinho</a>';
                    azeites = document.getElementsByClassName('HideAzeites')[0]
                    azeites.parentNode.replaceChild(newItem, azeites);
                }
            }
        };

        // Instanciando a funcao
        $(document).ready(Search.init);
        let windowLoad = function () {
            Search.windowOnload();
        };
        $(window).load(windowLoad);
        $(document).ajaxStop(Search.ajaxStop);

    } catch (e) {
        console.log("Erro na instância do [Search]: ", e);
    }

})();
