function orionFormatPrice(e,t,o,i){e=(e+"").replace(/[^0-9+\-Ee.]/g,""),e=isFinite(+e)?+e:0,i=void 0===i?",":i,o=void 0===o?".":o;var n="",n=function(e,t){var o=Math.pow(10,t);return""+(Math.round(e*o)/o).toFixed(t)};return 3<(n=((t=isFinite(+t)?Math.abs(t):0)?n(e,t):""+Math.round(e)).split("."))[0].length&&(n[0]=n[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,i)),(n[1]||"").length<t&&(n[1]=n[1]||"",n[1]+=Array(t-n[1].length+1).join("0")),n.join(o)}!function(){try{let n={init:()=>{n.applyChangesPrices(),n.getInfoProduct(),n.applySlideToggleInInfomartions(),n.quantityProductToCart(),n.addProductCart(),n.applyConfigSelectSku(),n.applyFilterAdegaConfig(),n.applySlickWhenSkuChange(),n.applyRequestStockPromotion()},windowOnload:()=>{},ajaxStop:()=>{},getInfoProduct:()=>{var e=skuJson.productId;$.ajax({type:"GET",url:"/api/catalog_system/pub/products/search/?fq=productId:"+e,dataType:"json",contentType:"application/json",headers:{"Content-Type":"application/json",Accept:"application/vnd.vtex.ds.v10+json"}}).done(function(e){console.log(e[0]),n.buildBigThumbs(e[0]),n.buildDescriptionJoias(e[0])})},buildBigThumbs:e=>{if(e.items[0].images.length<=2)return $("#show").addClass("no-slick"),$("#jv-prodimage-load").remove(),void $("#jv-product-block-image").removeClass("hide-block-image");$("#show").addClass("jv-with-slick");let i="";e.items[0].images.forEach(e=>{let t=e.imageTag.replace(/~/g,""),o=(t=(t=t.replace(/#width#-#height#/g,"450-450")).replace(/width="#width#" height="#height#"/g,""),$(t));o=(o=o.attr("src")).replace(/450-450/g,"1000-1000"),i+=`<div class="jv-bigthumbs-block"><a class="jqzoom" href="${o}">${t}</a></div>`});e=`<div class="jv-bigthumbs">${i}</div>`;$("#include").html(e),$(".jqzoom").jqzoom({zoomType:"standard",zoomWidth:500,zoomHeight:500,preloadImages:!0}),n.applySlickImageAndThumbs()},applySlickImageAndThumbs:()=>{let e=$(".jv-bigthumbs"),t=$("#show .thumbs");e.each(function(){$(this).find(".slick-arrow").wrapAll('<div class="slick-nav" />')}),e.slick({slidesToShow:1,slidesToScroll:1,arrows:!0,fade:!0,infinity:!0,asNavFor:$("#show .thumbs")}),t.not(".slick-initialized").slick({slidesToShow:3,slidesToScroll:1,asNavFor:$(".jv-bigthumbs"),arrows:!0,dots:!1,centerMode:!0,focusOnSelect:!0,infinity:!0}),setTimeout(function(){console.log("100"),$("#jv-prodimage-load").remove(),$("#jv-product-block-image").removeClass("hide-block-image")},1e3)},applySlickShelf:()=>{let e=$(".jv-shelf.wrapper ul");e.find("li[layout]").length<=4||0==e.children().length?e.addClass("jv-shelf-no-slick"):e.slick({slidesToShow:4,slidesToScroll:1,arrows:!0,fade:!0})},applyChangesPrices:()=>{var e=`<em class="jv-price-boleto-pix">Ou <strong>${(fixPrice=function(e){return 4==(p=e.toFixed(2).replace(".",",")).split(",")[0].length?"R$ "+p[0]+"."+p.substring(1,p.length):5==p.split(",")[0].length?"R$ "+p.substring(0,2)+"."+p.substring(2,p.length):"R$ "+p})(.9*parseInt(dataLayer[0].productPriceTo))} </strong> no boleto, PIX ou transferência</em>`;$(e).appendTo($(".descricao-preco"));let t=$(".descricao-preco .price-installments").first(),o=t.text();o=o.replace("ou"," em até"),t.text(o)},applySlideToggleInInfomartions:()=>{$(".informations-section span").on("click",function(e){e.preventDefault();let t=$(this);t.toggleClass("active"),t.next().toggle()})},buildDescriptionJoias:e=>{$("#jv-details-product").html(`<p>${e.description}</p>`),e["Cuidados com a peça"]&&e["Cuidados com a peça"][0]&&$("#jv-warnings-product").html(`<p>${e["Cuidados com a peça"][0]}</p>`)},applyConfigSelectSku:()=>{0!=$(".sku-selector-container.sku-selector-container-0").children().length&&($('select[specification="Tamanho"]').length&&($('.block.skuselection select[specification="Tamanho"]').find("option").first().attr("disabled",!0),$('.block.skuselection select[specification="Tamanho"]').find("option").first().attr("hidden",!0),$('.block.skuselection select[specification="Tamanho"]').find("option").first().text("Tamanho")),$('select[specification="Cor"]').length&&($('.block.skuselection select[specification="Cor"]').find("option").first().attr("disabled",!0),$('.block.skuselection select[specification="Cor"]').find("option").first().attr("hidden",!0),$('.block.skuselection select[specification="Cor"]').find("option").first().text("Cor")),$('select[specification="Letra"]').length&&($('.block.skuselection select[specification="Letra"]').find("option").first().attr("disabled",!0),$('.block.skuselection select[specification="Letra"]').find("option").first().attr("hidden",!0),$('.block.skuselection select[specification="Letra"]').find("option").first().text("Letra")))},quantityProductToCart:()=>{let o=$(".buybutton-qtt input"),i=$(".buybutton-wrapper .buy-button.buy-button-ref"),n=1;$(".buybutton-qtt-inputs span").on("click",function(e){e.preventDefault(),n=o.val(),n=parseInt(n);let t=i.attr("href");$(this).is(".inputs-up")?(n=parseInt(n)+parseInt(1),o.val(n),t=t.replace(/qty=\d+/g,"qty="+n),i.attr("href",t)):$(this).is(".inputs-down")&&1!=n&&(n=parseInt(n)-parseInt(1),o.val(n),t=t.replace(/qty=\d+/g,"qty="+n),i.attr("href",t))})},addProductCart:()=>{$(".buybutton-wrapper .buy-button.buy-button-ref").on("click",function(e){e.preventDefault();let t=$(this),o=n.returnSku($(this));if("alerta"==o)return alert("Por favor, selecione o modelo desejado."),!1;e=$("#jv-joias-qtt-input").val();t.addClass("active-load"),console.log(o),n.sendProductToOrderForm(o,e,t)})},sendProductToOrderForm:(e,t,o)=>{let i={id:e,quantity:t,seller:"1"};vtexjs.checkout.getOrderForm().done(function(e){vtexjs.checkout.addToCart([i],null).done(function(e){miniCartFunctions.update(e),$(".mini-cart-wrapper").addClass("active"),$(".mini-cart-close-overlay").fadeIn(400,"linear"),o.removeClass("active-load")})})},returnSku:e=>{let t=e.attr("href");return"javascript:alert('Por favor, selecione o modelo desejado.');"==t?"alerta":skuId=t.match(/(?<=sku=).*(?=&qty)/g)[0]},applyFilterAdegaConfig:()=>{$(window).width()<768&&($(".search-single-navigator").hide(),$(".search-single-navigator").before("<div class='menu-dep-filtrar'>VER MAIS VINHOS</div>"),$(".search-single-navigator h5").click(function(e){e.preventDefault(),$(this).toggleClass("active")}),$(".menu-dep-filtrar").click(function(e){$(".menu-dep-filtrar").toggleClass("active"),$(".search-single-navigator").slideToggle()}),$(".jv-product-adega-shipping ul").not(".slick-initialized").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,drag:!0}))},applySlickWhenSkuChange:()=>{$(document).on("skuSelected.vtex",function(e,t,o){2<$("ul.thumbs li").length&&($("ul.thumbs").removeClass("slick-initialized slick-slider"),$("ul.thumbs").slick("refresh")),n.applyConfigSelectSku()}),$(document).on("vtex.sku.changed",function(e,t,o){n.applyPriceWhenSkuChange()})},applyPriceWhenSkuChange:()=>{var e=`<em class="jv-price-boleto-pix">Ou <strong>${(fixPrice=function(e){return 4==(p=e.toFixed(2).replace(".",",")).split(",")[0].length?"R$ "+p[0]+"."+p.substring(1,p.length):5==p.split(",")[0].length?"R$ "+p.substring(0,2)+"."+p.substring(2,p.length):"R$ "+p})(.9*parseInt(dataLayer[0].productPriceTo))} </strong> no boleto, PIX ou transferência</em>`;$(e).appendTo($(".descricao-preco"));let t=$(".descricao-preco .price-installments").first(),o=t.text();o=o.replace("ou"," em até"),t.text(o)},applyRequestStockPromotion:()=>{if(0==$(".sku-selector-container.sku-selector-container-0").children().length)$(".block.shipping-info").hide();else if("Pingentes Letras"==vtxctx.categoryName)console.log("Página de Pingentes. [applyRequestStockPromotion] Encerrado.");else{let o=/\d/g,i=/\(([^)]+)\)/g,e=$(".select.skuList option:selected").text();var t;e.match("encomende")||"Tamanho"==e?$(".block.shipping-info").hide():(t=thisText.match(o)[0],$("#jv-promotion-info-stock").text(`APENAS ${t} EM ESTOQUE. NÃO DEIXE PRA DEPOIS!`)),$('select[specification="Tamanho"]').on("change",function(){let e=$("option:selected",this).text();var t;e.match("encomende")||"Tamanho"==e?($(".block.shipping-info").hide(),console.log("A")):(console.log(e),t=e.match(i)[0].match(o)[0],$("#jv-promotion-info-stock").text(`APENAS ${t} EM ESTOQUE. NÃO DEIXE PRA DEPOIS!`),$(".block.shipping-info").show(),console.log("B"))})}}};$(document).ready(n.init);$(window).load(function(){n.windowOnload()}),$(document).ajaxStop(n.ajaxStop)}catch(e){console.log("Erro na instância do [NewProduct]: ",e)}}();