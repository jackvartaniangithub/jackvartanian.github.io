!function(){try{let n={init:()=>{n.applySmartResearch(),n.filtredItemsSmartResearch(),n.removeItemsFiltered(),n.applyOrderBy(),n.applyQuantiyAdegas(),n.addProductCartAdegas(),n.applySlickBanners(),n.applyConfigsMobile(),n.applySlickInBenefits(),n.applyDiscountInBoxes()},windowOnload:()=>{n.setUpWinesTop()},ajaxStop:()=>{},setUpWinesTop:()=>{"Vinhos"==vtxctx.categoryName&&$("fieldset.filtro_vinho").insertBefore($("fieldset.filtro_marca"))},applySmartResearch:()=>{$(".search-single-navigator").prependTo($(".search-multiple-navigator")),$(".content.filters input[type='checkbox']").vtexSmartResearch({ajaxCallback:function(){n.applyDiscountInBoxes()},shelfCallback:function(){n.removeItemsFiltered()}})},filtredItemsSmartResearch:()=>{$('.search-multiple-navigator input[type="checkbox"]').click(function(e){let t=$(this),a=t.val(),i=t.parent().parent().parent().find("h5").text();var n;$('.jv-item-filtered[data-name="'+a+'"]').length?$('.jv-item-filtered[data-name="'+a+'"]').remove():(n=$(`
                            <div class="jv-item-filtered" data-name="${a}">
                                <span class="jv-item-filtered-category">${i}:</span>
                                <span class="jv-item-filtered-value">${a}</span>
                            </div>
                        `),$(".orders-filtereds").append(n))})},removeItemsFiltered:()=>{$(document).on("click",".orders-filtereds .jv-item-filtered",function(){var e=$(this).attr("data-name");$('label.sr_selected input[value="'+e+'"]').click(),$(this).remove()})},applyOrderBy:()=>{$(".content.results .orderBy select").first().appendTo($(".orders-orderby"))},applyQuantiyAdegas:()=>{$(document).on("click",".selectbox-qtt-wrapper span",function(e){e.preventDefault();let t=$(this).parent().prev(),a=t.val();a=parseInt(a),$(this).is(".shelf-qtt-more")?(a=parseInt(a)+parseInt(1),t.val(a)):$(this).is(".shelf-qtt-minus")&&1!=a&&(a=parseInt(a)-parseInt(1),t.val(a))})},addProductCartAdegas:()=>{$(document).on("click",".jv-storefront-buybutton.cat-adega",function(a){a.preventDefault();let i=$(this),e=i.parent().prev().find("option:selected").val();if("garrafa"==e){a={id:i.prev().attr("id"),quantity:i.parent().prev().find("input").val().toString(),seller:"1"};n.sendProductToOrderForm(a)}else if("caixa"==e){let e=i.prev().attr("id"),t=i.parent().prev().find("input").val();a={id:e,quantity:(t*=6).toString(),seller:"1"};n.sendProductToOrderForm(a)}})},sendProductToOrderForm:t=>{vtexjs.checkout.getOrderForm().done(function(e){vtexjs.checkout.addToCart([t],null).done(function(e){miniCartFunctions.update(e),$(".mini-cart-wrapper").addClass("active"),$(".mini-cart-close-overlay").fadeIn(400,"linear")})})},applySlickBanners:()=>{$(".banner-top.wrapper").not(".slick-initialized").slick({slidesToShow:1,slidesToScroll:1,speed:600,arrows:!1})},applyConfigsMobile:()=>{$("#jv-btn-filtermobile").on("click",function(e){e.preventDefault(),$(document.body).addClass("jv-catfilters-mobile-on"),console.log("Clicado!")}),$("#jv-btn-close-filters-mobile, .jv-bg-overlay").on("click",function(e){e.preventDefault(),$(document.body).removeClass("jv-catfilters-mobile-on")})},applySlickInBenefits:()=>{$(window).width()<576&&$("#jv-category-adega-shipping").not(".slick-initialized").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,drag:!0})},applyDiscountInBoxes:()=>{let s=/\D/g;$(".prateleira[id^=ResultItems] li[layout]").each(function(){if(!$(this).is(".jv-shelf-price-on")){let e=$(this),t=(e.addClass("jv-shelf-price-on"),e.find(".price-box-value")),a=t.text();var i,n,r,o,l;a=a.replace(s,""),valueDiscount=.05*a,a-=valueDiscount,t.text("R$ "+(i=a/100,n=2,r=",",o=".",i=(i+"").replace(/[^0-9+\-Ee.]/g,""),i=isFinite(+i)?+i:0,o=void 0===o?",":o,r=void 0===r?".":r,"",l=function(e,t){var a=Math.pow(10,t);return""+(Math.round(e*a)/a).toFixed(t)},3<(l=((n=isFinite(+n)?Math.abs(n):0)?l(i,n):""+Math.round(i)).split("."))[0].length&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,o)),(l[1]||"").length<n&&(l[1]=l[1]||"",l[1]+=Array(n-l[1].length+1).join("0")),l.join(r)))}})}};$(document).ready(n.init);$(window).load(function(){n.windowOnload()}),$(document).ajaxStop(n.ajaxStop)}catch(e){console.log("Erro na instÃ¢ncia do [Category - Adega]: ",e)}}();