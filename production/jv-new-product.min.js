function orionFormatPrice(t,o,a,e){t=(t+"").replace(/[^0-9+\-Ee.]/g,""),t=isFinite(+t)?+t:0,e=void 0===e?",":e,a=void 0===a?".":a;var n="",n=function(t,o){var a=Math.pow(10,o);return""+(Math.round(t*a)/a).toFixed(o)};return 3<(n=((o=isFinite(+o)?Math.abs(o):0)?n(t,o):""+Math.round(t)).split("."))[0].length&&(n[0]=n[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,e)),(n[1]||"").length<o&&(n[1]=n[1]||"",n[1]+=Array(o-n[1].length+1).join("0")),n.join(a)}!function(){try{let n={init:()=>{n.verifyTypeProduct(),n.applyChangesPrices(),n.getInfoProduct(),n.applySlideToggleInInfomartions(),n.quantityProductToCart(),n.addProductCart()},windowOnload:()=>{},ajaxStop:()=>{},verifyTypeProduct:()=>{("1000030"==vtxctx.categoryId?$(".aside-wrapper.joias"):$(".aside-wrapper.adegas")).hide()},getInfoProduct:()=>{var t=skuJson.productId;$.ajax({type:"GET",url:"/api/catalog_system/pub/products/search/?fq=productId:"+t,dataType:"json",contentType:"application/json",headers:{"Content-Type":"application/json",Accept:"application/vnd.vtex.ds.v10+json"}}).done(function(t){console.log(t[0]),n.buildBigThumbs(t[0]),"1000030"==vtxctx.categoryId?n.buildDescriptionsAdegas(t[0]):n.buildDescriptionJoias(t[0])})},buildBigThumbs:t=>{let a="";t.items[0].images.forEach(t=>{let o=t.imageTag.replace(/~/g,"");o=o.replace(/#width#-#height#/g,"450-450"),a+=`<div class="jv-bigthumbs-block">${o}</div>`});t=`<div class="jv-bigthumbs">${a}</div>`;$("#include").html(t),n.applySlickImageAndThumbs()},applySlickImageAndThumbs:()=>{let t=$(".jv-bigthumbs"),o=$("#show .thumbs");t.each(function(){$(this).find(".slick-arrow").wrapAll('<div class="slick-nav" />')}),t.slick({slidesToShow:1,slidesToScroll:1,arrows:!0,fade:!0,asNavFor:$("#show .thumbs")}),o.not(".slick-initialized").slick({slidesToShow:3,slidesToScroll:1,asNavFor:$(".jv-bigthumbs"),arrows:!0,dots:!1,centerMode:!0,focusOnSelect:!0})},applyChangesPrices:()=>{if("1000030"!=vtxctx.categoryId){var a=`<em class="jv-price-boleto-pix">Ou <strong>${(fixPrice=function(t){return 4==(p=t.toFixed(2).replace(".",",")).split(",")[0].length?"R$ "+p[0]+"."+p.substring(1,p.length):5==p.split(",")[0].length?"R$ "+p.substring(0,2)+"."+p.substring(2,p.length):"R$ "+p})(.9*parseInt(dataLayer[0].productPriceTo))} "</strong> no boleto, PIX ou transferência</em>`;$(a).appendTo($(".descricao-preco"));let t=$(".descricao-preco .price-installments").first(),o=t.text();o=o.replace("ou"," em até"),t.text(o)}else"1000030"==vtxctx.categoryId&&(a=orionFormatPrice((a=(a=skuJson.skus[0].bestPrice)-.05*a)/100,2,",","."),$(".price-box-unitys").text("R$ "+a),console.log("Preço: ",a))},applySlideToggleInInfomartions:()=>{$(".informations-section span").on("click",function(t){t.preventDefault();let o=$(this);o.toggleClass("active"),o.next().slideToggle()})},buildDescriptionJoias:t=>{$("#jv-details-product").html(`<p>${t.description}</p>`),t["Cuidados com a peça"]&&t["Cuidados com a peça"][0]&&$("#jv-warnings-product").html(`<p>${t["Cuidados com a peça"][0]}</p>`)},buildDescriptionsAdegas:t=>{let o=$(".block.wine-resume"),a="";t["Porcentagem Das"]&&t["Porcentagem Das"][0]&&(a+=`
                        <li>
                            <strong>Porcentagem das: </strong>
                            <span>${t["Porcentagem Das"][0]}</span>
                        </li>
                    `),t.Uvas&&t.Uvas[0]&&(a+=`
                        <li>
                            <strong>Uvas: </strong>
                            <span>${t.Uvas[0]}</span>
                        </li>
                    `),t["Vinícola"]&&t["Vinícola"][0]&&(a+=`
                        <li>
                            <strong>Vinícola:  </strong>
                            <span>${t["Vinícola"][0]}</span>
                        </li>
                    `),t["Teor alcoólico"]&&t["Teor alcoólico"][0]&&(a+=`
                        <li>
                            <strong>Teor alcoólico: </strong>
                            <span>${t["Teor alcoólico"][0]}</span>
                        </li>
                    `),t.Uva&&t.Uva[0]&&(a+=`
                        <li>
                            <strong>Uva: </strong>
                            <span>${t.Uva[0]}</span>
                        </li>
                    `),t["Região"]&&t["Região"][0]&&(a+=`
                        <li>
                            <strong>Região: </strong>
                            <span>${t["Região"][0]}</span>
                        </li>
                    `),t.Safra&&t.Safra[0]&&(a+=`
                        <li>
                            <strong>Safra: </strong>
                            <span>${t.Safra[0]}</span>
                        </li>
                    `),t["Harmoniza com"]&&t["Harmoniza com"][0]&&(a+=`
                        <li>
                            <strong>Harmoniza com: </strong>
                            <span>${t["Harmoniza com"][0]}</span>
                        </li>
                    `);var e=`<ul>${a}</ul>`;o.html(e),$(".block.shortdescription").html(`<p>${t.description}</p>`)},quantityProductToCart:()=>{let a=$(".buybutton-qtt input"),e=$(".buybutton-wrapper .buy-button.buy-button-ref"),n=1;$(".buybutton-qtt-inputs span").on("click",function(t){t.preventDefault(),n=a.val(),n=parseInt(n);let o=e.attr("href");$(this).is(".inputs-up")?(n=parseInt(n)+parseInt(1),a.val(n),o=o.replace(/qty=\d+/g,"qty="+n),e.attr("href",o)):$(this).is(".inputs-down")&&1!=n&&(n=parseInt(n)-parseInt(1),a.val(n),o=o.replace(/qty=\d+/g,"qty="+n),e.attr("href",o))})},addProductCart:()=>{buyButton.on("click",function(t){t.preventDefault();let o=$(this),a=n.returnSku($(this)),e=($(this).addClass("active-load"),console.log("Quantidade"),{id:a,quantity:$(".buybutton-qtt input").val(),seller:"1"});vtexjs.checkout.getOrderForm().done(function(t){vtexjs.checkout.addToCart([e],null).done(function(t){$(".mini-cart-wrapper").addClass("active"),$(".mini-cart-close-overlay").fadeIn(400,"linear"),o.removeClass("active-load")})})}),$(".unity-box-input input"),$(".block.buybutton .buy-button.buy-button-ref").on("click",function(t){t.preventDefault();var t=$("#jv-select-unity-box option:selected").val(),o=n.returnSku($(this));console.log("Sku: ",o),"unidade"==t?console.log("Unidade"):"caixa"==t&&$(".unity-box-input input").val()})},returnSku:t=>{let o=t.attr("href");return skuId=o.match(/(?<=sku=).*(?=&qty)/g)[0]}};$(document).ready(n.init);$(window).load(function(){n.windowOnload()}),$(document).ajaxStop(n.ajaxStop)}catch(t){console.log("Erro na instância do [NewProduct]: ",t)}}();