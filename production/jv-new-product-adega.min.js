function orionFormatPrice(e,a,o,t){e=(e+"").replace(/[^0-9+\-Ee.]/g,""),e=isFinite(+e)?+e:0,t=void 0===t?",":t,o=void 0===o?".":o;var i="",i=function(e,a){var o=Math.pow(10,a);return""+(Math.round(e*o)/o).toFixed(a)};return 3<(i=((a=isFinite(+a)?Math.abs(a):0)?i(e,a):""+Math.round(e)).split("."))[0].length&&(i[0]=i[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,t)),(i[1]||"").length<a&&(i[1]=i[1]||"",i[1]+=Array(a-i[1].length+1).join("0")),i.join(o)}!function(){try{let i={init:()=>{i.applyChangesPrices(),i.getInfoProduct(),i.applySlickShelf(),i.applySlideToggleInInfomartions(),i.quantityProductToCart(),i.addProductCart(),i.applyFilterAdegaConfig()},windowOnload:()=>{},ajaxStop:()=>{},getInfoProduct:()=>{var e=skuJson.productId;$.ajax({type:"GET",url:"/api/catalog_system/pub/products/search/?fq=productId:"+e,dataType:"json",contentType:"application/json",headers:{"Content-Type":"application/json",Accept:"application/vnd.vtex.ds.v10+json"}}).done(function(e){i.buildBigThumbs(e[0]),i.buildDescriptionsAdegas(e[0])})},buildBigThumbs:e=>{if(e.items[0].images.length<=3)return $("#show").addClass("no-slick"),$("#jv-prodimage-load").remove(),void $("#jv-product-block-image").removeClass("hide-block-image");$("#show").addClass("jv-with-slick");let t="";e.items[0].images.forEach(e=>{let a=e.imageTag.replace(/~/g,""),o=(a=(a=a.replace(/#width#-#height#/g,"450-450")).replace(/width="#width#" height="#height#"/g,""),$(a));o=(o=o.attr("src")).replace(/450-450/g,"1000-1000"),t+=`<div class="jv-bigthumbs-block"><a class="jqzoom" href="${o}">${a}</a></div>`});e=`<div class="jv-bigthumbs">${t}</div>`;$("#include").html(e),$(".jqzoom").jqzoom({zoomType:"standard",zoomWidth:500,zoomHeight:500,preloadImages:!0}),i.applySlickImageAndThumbs()},applySlickImageAndThumbs:()=>{let e=$(".jv-bigthumbs"),a=$("#show .thumbs");e.each(function(){$(this).find(".slick-arrow").wrapAll('<div class="slick-nav" />')}),e.slick({slidesToShow:1,slidesToScroll:1,arrows:!0,fade:!0,asNavFor:$("#show .thumbs")}),a.not(".slick-initialized").slick({slidesToShow:3,slidesToScroll:1,asNavFor:$(".jv-bigthumbs"),arrows:!0,dots:!1,centerMode:!0,focusOnSelect:!0}),setTimeout(function(){$("#jv-prodimage-load").remove(),$("#jv-product-block-image").removeClass("hide-block-image")},1e3)},applySlickShelf:()=>{let e=$(".jv-shelf.wrapper ul");if(e.find("li[layout]").length<=4||0==e.children().length)return console.log("108"),void e.addClass("jv-shelf-no-slick");e.slick({slidesToShow:4,slidesToScroll:1,arrows:!0,fade:!0})},applyChangesPrices:()=>{var e=skuJson.skus[0].bestPrice,e=orionFormatPrice((e-.05*e)/100,2,",",".");$(".price-box-unitys").text("R$ "+e)},applySlideToggleInInfomartions:()=>{$(".informations-section span").on("click",function(e){e.preventDefault();let a=$(this);a.toggleClass("active"),a.next().toggle()})},buildDescriptionsAdegas:e=>{let a=$(".block.wine-resume"),o=$(".description.wrapper"),t="";e["Porcentagem Das"]&&e["Porcentagem Das"][0]&&(t+=`
                        <li>
                            <strong>Porcentagem das: </strong>
                            <span>${e["Porcentagem Das"][0]}</span>
                        </li>
                    `),e.Uvas&&e.Uvas[0]&&(t+=`
                        <li>
                            <strong>Uvas: </strong>
                            <span>${e.Uvas[0]}</span>
                        </li>
                    `),e["Vinícola"]&&e["Vinícola"][0]&&(t+=`
                        <li>
                            <strong>Vinícola:  </strong>
                            <span>${e["Vinícola"][0]}</span>
                        </li>
                    `),e["Teor alcoólico"]&&e["Teor alcoólico"][0]&&(t+=`
                        <li>
                            <strong>Teor alcoólico: </strong>
                            <span>${e["Teor alcoólico"][0]}</span>
                        </li>
                    `),e.Uva&&e.Uva[0]&&(t+=`
                        <li>
                            <strong>Uva: </strong>
                            <span>${e.Uva[0]}</span>
                        </li>
                    `),e["Região"]&&e["Região"][0]&&(t+=`
                        <li>
                            <strong>Região: </strong>
                            <span>${e["Região"][0]}</span>
                        </li>
                    `),e.Safra&&e.Safra[0]&&(t+=`
                        <li>
                            <strong>Safra: </strong>
                            <span>${e.Safra[0]}</span>
                        </li>
                    `),e["Harmoniza com"]&&e["Harmoniza com"][0]&&(t+=`
                        <li>
                            <strong>Harmoniza com: </strong>
                            <span>${e["Harmoniza com"][0]}</span>
                        </li>
                    `);var i=`<ul>${t}</ul>`,s=`<h2>Sobre o vinho</h2><p>${e.description}</p><ul>${t}</ul>`;$(".block.shortdescription").html(`<p>${e.description}</p>`),a.html(i),o.html(s),o.removeClass("hide"),$(".description.loader").addClass("hide")},quantityProductToCart:()=>{let a=$(".unity-box-input input"),o=1;$(".block-arrows span").on("click",function(e){e.preventDefault(),o=a.val(),o=parseInt(o),$(this).is(".arrows-to-up")?(o=parseInt(o)+parseInt(1),a.val(o)):$(this).is(".arrows-to-down")&&1!=o&&(o=parseInt(o)-parseInt(1),a.val(o))})},addProductCart:()=>{$(".block.buybutton .buy-button.buy-button-ref").on("click",function(a){a.preventDefault();let o=$(this),e=$("#jv-select-unity-box option:selected").val(),t=i.returnSku($(this));if(o.addClass("active-load"),"unidade"==e){let e=$("#jv-adegas-qtt-input").val(),a=$(this).attr("href");a=a.replace(/qty=\d+/g,"qty="+e),$(this).attr("href",a),i.sendProductToOrderForm(t,e,o)}else if("caixa"==e){a=$("#jv-adegas-qtt-input").val();a*=6;let e=$(this).attr("href");e=e.replace(/qty=\d+/g,"qty="+a),$(this).attr("href",e),i.sendProductToOrderForm(t,a,o)}})},sendProductToOrderForm:(e,a,o)=>{let t={id:e,quantity:a,seller:"1"};vtexjs.checkout.getOrderForm().done(function(e){vtexjs.checkout.addToCart([t],null).done(function(e){miniCartFunctions.update(e),$(".mini-cart-wrapper").addClass("active"),$(".mini-cart-close-overlay").fadeIn(400,"linear"),o.removeClass("active-load")})})},returnSku:e=>{let a=e.attr("href");return"javascript:alert('Por favor, selecione o modelo desejado.');"==a?"alerta":skuId=a.match(/(?<=sku=).*(?=&qty)/g)[0]},applyFilterAdegaConfig:()=>{$(window).width()<768&&($(".search-single-navigator").hide(),$(".search-single-navigator").before("<div class='menu-dep-filtrar'>VER MAIS VINHOS</div>"),$(".search-single-navigator h5").click(function(e){e.preventDefault(),$(this).toggleClass("active")}),$(".menu-dep-filtrar").click(function(e){$(".menu-dep-filtrar").toggleClass("active"),$(".search-single-navigator").slideToggle()}),$(".jv-product-adega-shipping ul").not(".slick-initialized").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,drag:!0}))}};$(document).ready(i.init);$(window).load(function(){i.windowOnload()}),$(document).ajaxStop(i.ajaxStop)}catch(e){console.log("Erro na instância do [NewProduct]: ",e)}}();