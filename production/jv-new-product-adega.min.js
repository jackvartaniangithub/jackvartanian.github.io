function orionFormatPrice(a,e,t,o){a=(a+"").replace(/[^0-9+\-Ee.]/g,""),a=isFinite(+a)?+a:0,o=void 0===o?",":o,t=void 0===t?".":t;var i="",i=function(a,e){var t=Math.pow(10,e);return""+(Math.round(a*t)/t).toFixed(e)};return 3<(i=((e=isFinite(+e)?Math.abs(e):0)?i(a,e):""+Math.round(a)).split("."))[0].length&&(i[0]=i[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,o)),(i[1]||"").length<e&&(i[1]=i[1]||"",i[1]+=Array(e-i[1].length+1).join("0")),i.join(t)}!function(){try{let i={init:()=>{i.applyChangesPrices(),i.getInfoProduct(),i.applySlideToggleInInfomartions(),i.quantityProductToCart(),i.addProductCart(),i.applyFilterAdegaConfig(),i.applyQuantiyAdegas(),i.addProductCartAdegas()},windowOnload:()=>{},ajaxStop:()=>{},getInfoProduct:()=>{var a=skuJson.productId;$.ajax({type:"GET",url:"/api/catalog_system/pub/products/search/?fq=productId:"+a,dataType:"json",contentType:"application/json",headers:{"Content-Type":"application/json",Accept:"application/vnd.vtex.ds.v10+json"}}).done(function(a){i.buildBigThumbs(a[0]),i.buildDescriptionsAdegas(a[0])})},buildBigThumbs:a=>{if(a.items[0].images.length<=3)return $("#show").addClass("no-slick"),$("#jv-prodimage-load").remove(),void $("#jv-product-block-image").removeClass("hide-block-image");$("#show").addClass("jv-with-slick");let o="";a.items[0].images.forEach(a=>{let e=a.imageTag.replace(/~/g,""),t=(e=(e=e.replace(/#width#-#height#/g,"450-450")).replace(/width="#width#" height="#height#"/g,""),$(e));t=(t=t.attr("src")).replace(/450-450/g,"1000-1000"),o+=`<div class="jv-bigthumbs-block"><a class="jqzoom" href="${t}">${e}</a></div>`});a=`<div class="jv-bigthumbs">${o}</div>`;$("#include").html(a),$(".jqzoom").jqzoom({zoomType:"standard",zoomWidth:500,zoomHeight:500,preloadImages:!0}),i.applySlickImageAndThumbs()},applySlickImageAndThumbs:()=>{let a=$(".jv-bigthumbs"),e=$("#show .thumbs");a.each(function(){$(this).find(".slick-arrow").wrapAll('<div class="slick-nav" />')}),a.slick({slidesToShow:1,slidesToScroll:1,arrows:!0,fade:!0,asNavFor:$("#show .thumbs")}),e.not(".slick-initialized").slick({slidesToShow:3,slidesToScroll:1,asNavFor:$(".jv-bigthumbs"),arrows:!0,dots:!1,centerMode:!0,focusOnSelect:!0}),setTimeout(function(){$("#jv-prodimage-load").remove(),$("#jv-product-block-image").removeClass("hide-block-image")},1e3)},applySlickShelf:()=>{let a=$(".jv-shelf.wrapper ul");a.find("li[layout]").length<=4||0==a.children().length?a.addClass("jv-shelf-no-slick"):a.slick({slidesToShow:4,slidesToScroll:1,arrows:!0,fade:!0})},applyChangesPrices:()=>{var a=skuJson.skus[0].bestPrice,a=orionFormatPrice((a-.05*a)/100,2,",",".");$(".price-box-unitys").text("R$ "+a)},applySlideToggleInInfomartions:()=>{$(".informations-section span").on("click",function(a){a.preventDefault();let e=$(this);e.toggleClass("active"),e.next().toggle()})},buildDescriptionsAdegas:a=>{let e=$(".block.wine-resume"),t=$(".description.wrapper"),o="";console.log(a),a.Uva&&a.Uva[0]&&(o+=`
                        <li>
                            <strong>Uva: </strong>
                            <span>${a.Uva[0]}</span>
                        </li>
                    `),a.Vinho&&a.Vinho[0]&&(o+=`
                        <li>
                            <strong>Vinho: </strong>
                            <span>${a.Vinho[0]}</span>
                        </li>
                    `),a["Vinícola"]&&a["Vinícola"][0]&&(o+=`
                        <li>
                            <strong>Vinícola:  </strong>
                            <span>${a["Vinícola"][0]}</span>
                        </li>
                    `),a["Região"]&&a["Região"][0]&&(o+=`
                        <li>
                            <strong>Região: </strong>
                            <span>${a["Região"][0]}</span>
                        </li>
                    `),a.Safra&&a.Safra[0]&&(o+=`
                        <li>
                            <strong>Safra: </strong>
                            <span>${a.Safra[0]}</span>
                        </li>
                    `),a["Porcentagem Das"]&&a["Porcentagem Das"][0]&&(o+=`
                        <li>
                            <strong>Porcentagem das: </strong>
                            <span>${a["Porcentagem Das"][0]}</span>
                        </li>
                    `),a.Uvas&&a.Uvas[0]&&(o+=`
                        <li>
                            <strong>Uvas: </strong>
                            <span>${a.Uvas[0]}</span>
                        </li>
                    `),a["Teor alcoólico"]&&a["Teor alcoólico"][0]&&(o+=`
                        <li>
                            <strong>Teor alcoólico: </strong>
                            <span>${a["Teor alcoólico"][0]}</span>
                        </li>
                    `),a["Harmoniza com"]&&a["Harmoniza com"][0]&&(o+=`
                        <li>
                            <strong>Harmoniza com: </strong>
                            <span>${a["Harmoniza com"][0]}</span>
                        </li>
                    `),a.Marca&&a.Marca[0]&&(o+=`
                        <li>
                            <strong>Marca: </strong>
                            <span>${a.Marca[0]}</span>
                        </li>
                    `);var i=`<ul>${o}</ul>`,n=`<h2>Sobre o vinho</h2><p>${a.description}</p><ul>${o}</ul>`;$(".block.shortdescription").html(`<p>${a.description}</p>`),e.html(i),t.html(n),t.removeClass("hide"),$(".description.loader").addClass("hide")},quantityProductToCart:()=>{let e=$(".unity-box-input input"),t=1;$(".block-arrows span").on("click",function(a){a.preventDefault(),t=e.val(),t=parseInt(t),$(this).is(".arrows-to-up")?(t=parseInt(t)+parseInt(1),e.val(t)):$(this).is(".arrows-to-down")&&1!=t&&(t=parseInt(t)-parseInt(1),e.val(t))})},addProductCart:()=>{$(".block.buybutton .buy-button.buy-button-ref").on("click",function(e){e.preventDefault();let t=$(this),a=$("#jv-select-unity-box option:selected").val(),o=i.returnSku($(this));if(t.addClass("active-load"),"unidade"==a){let a=$("#jv-adegas-qtt-input").val(),e=$(this).attr("href");e=e.replace(/qty=\d+/g,"qty="+a),$(this).attr("href",e),i.sendProductToOrderForm(o,a,t)}else if("caixa"==a){e=$("#jv-adegas-qtt-input").val();e*=6;let a=$(this).attr("href");a=a.replace(/qty=\d+/g,"qty="+e),$(this).attr("href",a),i.sendProductToOrderForm(o,e,t)}})},sendProductToOrderForm:e=>{vtexjs.checkout.getOrderForm().done(function(a){vtexjs.checkout.addToCart([e],null).done(function(a){miniCartFunctions.update(a),$(".mini-cart-wrapper").addClass("active"),$(".mini-cart-close-overlay").fadeIn(400,"linear")})})},returnSku:a=>{let e=a.attr("href");return"javascript:alert('Por favor, selecione o modelo desejado.');"==e?"alerta":skuId=e.match(/(?<=sku=).*(?=&qty)/g)[0]},applyFilterAdegaConfig:()=>{$(window).width()<768&&($(".search-single-navigator").hide(),$(".search-single-navigator").before("<div class='menu-dep-filtrar'>VER MAIS VINHOS</div>"),$(".search-single-navigator h5").click(function(a){a.preventDefault(),$(this).toggleClass("active")}),$(".menu-dep-filtrar").click(function(a){$(".menu-dep-filtrar").toggleClass("active"),$(".search-single-navigator").slideToggle()}),$(".jv-product-adega-shipping ul").not(".slick-initialized").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,drag:!0}))},applyQuantiyAdegas:()=>{$(document).on("click",".selectbox-qtt-wrapper span",function(a){a.preventDefault();let e=$(this).parent().prev(),t=e.val();t=parseInt(t),$(this).is(".shelf-qtt-more")?(t=parseInt(t)+parseInt(1),e.val(t)):$(this).is(".shelf-qtt-minus")&&1!=t&&(t=parseInt(t)-parseInt(1),e.val(t))})},addProductCartAdegas:()=>{$(document).on("click",".jv-storefront-buybutton.cat-adega",function(a){a.preventDefault();let t=$(this);console.log("Clicado!"),console.log(t),console.log(t.attr("data-id"));a=t.parent().prev().find("option:selected").val();if("garrafa"==a){var o={id:t.prev().attr("name"),quantity:t.parent().prev().find("input").val().toString(),seller:"1"};console.log("Garrafa"),console.log(o),i.sendProductToOrderForm(o)}else if("caixa"==a){let a=t.prev().attr("name"),e=t.parent().prev().find("input").val();o={id:a,quantity:(e*=6).toString(),seller:"1"};console.log("Caixa"),console.log(o),i.sendProductToOrderForm(o)}})}};$(document).ready(i.init);$(window).load(function(){i.windowOnload()}),$(document).ajaxStop(i.ajaxStop)}catch(a){console.log("Erro na instância do [NewProduct]: ",a)}}();